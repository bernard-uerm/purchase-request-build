(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"03dd":function(t,e,a){"use strict";var s=a("60ab"),r=a.n(s);r.a},5334:function(t,e,a){},"58f7":function(t,e,a){t.exports=a.p+"img/uerm-logo.edc08c93.png"},"5c35":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"pdf-item",staticStyle:{width:"107%",height:"1000px !important","margin-top":"10%","margin-left":"5%","margin-right":"5%"}},[a("table",{staticStyle:{width:"100%","border-collapse":"collapse","text-align":"center"},attrs:{border:this.border}},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)]),a("table",{staticStyle:{width:"100%","border-collapse":"collapse","font-size":"12px"},attrs:{border:this.border}},[a("tbody",[a("tr",[a("td",{attrs:{width:"14%"}},[t._v("Requesting Dept.")]),a("td",[t._v(t._s(this.prDetails[0].requestingUnit))]),a("td",{attrs:{width:"10%"}},[t._v(" ")]),a("td",[t._v("Purchase Request No.")]),a("td",{staticClass:"text-bold"},[t._v(t._s(this.prDetails[0].prNumber))])]),a("tr",[a("td",[t._v("To Department.")]),a("td",[t._v(t._s(this.prDetails[0].toDepartment))]),a("td",[t._v(" ")]),a("td",[t._v("Request Date.")]),a("td",[t._v(t._s(this.prDetails[0].dateRequested))])])])]),a("table",{staticStyle:{width:"100%","border-collapse":"collapse","text-align":"center","font-size":"12px"},attrs:{border:this.borderContent}},[t._m(7),a("tbody",t._l(t.prDetails,(function(e){return a("tr",t._b({key:e.id},"tr",e,!1),[a("td",[t._v(t._s(e.qty))]),a("td",[t._v(t._s(e.dosageForm))]),a("td",[t._v(t._s(e.itemCode))]),a("td",[t._v(t._s(e.description))]),a("td",[a("q-icon",{attrs:{name:e.departmentConsumption?"check_circle":"cancel"}})],1),a("td",[t._v(t._s(e.lastDatePurchase))]),a("td",[t._v(t._s(e.lastQtyPurchase))]),a("td",[t._v(t._s(e.lastAvailBalance))]),a("td",[t._v(t._s(e.lastUCost))])])})),0)]),a("br"),a("p",{staticStyle:{"font-size":"12px"}},[t._v("Remarks: "+t._s(this.prDetails[0].remarks))]),a("div",{staticStyle:{position:"absolute",bottom:"0"}},[a("table",{staticStyle:{"border-collapse":"collapse","font-size":"12px",width:"710px"},attrs:{border:this.border}},[t._m(8),a("tr",[a("td"),a("td",{staticClass:"text-bold text-center",staticStyle:{"border-bottom":"1px solid black"}},[t._v("\n              "+t._s(this.prDetails[0].requestedBy)+"\n            ")]),a("td"),a("td"),a("td",{staticClass:"text-bold text-center",staticStyle:{"border-bottom":"1px solid black"}},[t._v("\n              "+t._s(this.prDetails[0].approvedBy)+"\n            ")])]),a("tr",[a("td"),a("td",{staticClass:"text-center"},[t._v("\n              "+t._s(this.prDetails[0].requestedByPosition)+"\n            ")]),a("td"),a("td"),a("td",{staticClass:"text-center"},[t._v("\n              "+t._s(this.prDetails[0].approvedByPosition)+"\n            ")])])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{rowspan:"5",width:"25%"}},[s("img",{attrs:{src:a("58f7"),width:"100px",height:"100px"}})]),s("td",{staticClass:"text-bold"},[t._v("UNIVERSITY OF THE EAST")]),s("td",{attrs:{width:"23%"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-bold"},[t._v("RAMON MAGSAYSAY MEMORIAL MEDICAL CENTER, INC.")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("64 Aurora Boulevard, Barangay Doña Imelda")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("Quezon City, Philippines 1113")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[t._v(" ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),a("td",{staticClass:"text-bold"},[t._v("Purchase Request")]),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"3"}},[t._v(" ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("QTY")]),a("th",{attrs:{rowspan:"2"}},[t._v("UOM")]),a("th",{attrs:{rowspan:"2"}},[t._v("CODE")]),a("th",{attrs:{rowspan:"2"}},[t._v("DESCRIPTION")]),a("th",{attrs:{rowspan:"2",width:"10%"}},[t._v("DEPT. CONSUMPTION")]),a("th",{attrs:{colspan:"4"}},[t._v("PREVIOUS RECEIPT")])]),a("tr",[a("th",[t._v("DATE")]),a("th",[t._v("QTY")]),a("th",[t._v("AVAIL QTY")]),a("th",[t._v("AMOUNT")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{width:"80px"}},[t._v("Requested By:")]),a("td"),a("td",{attrs:{width:"8%"}},[t._v(" ")]),a("td",{attrs:{width:"80px"}},[t._v("Approved By:")]),a("td")])}],n={props:["prDetails"],data(){return{border:0,borderContent:1}},mounted(){console.log(this.prDetails)}},i=n,o=(a("b990"),a("2877")),l=a("0016"),c=a("eebe"),d=a.n(c),p=Object(o["a"])(i,s,r,!1,null,"6d02eba0",null);e["a"]=p.exports;d()(p,"components",{QIcon:l["a"]})},"5fe7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TableDepartmentRequests")],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row  q-mb-md"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6 text-center q-mb-xs"},[t._v("DEPARTMENT REQUESTS")])]),a("q-card-section",[a("div",{staticClass:"row full-width"},[a("div",{staticClass:"fit row wrap justify-around"},[a("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"300px"}},[a("q-input",{attrs:{label:"From Date",filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),a("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"300px"}},[a("q-input",{attrs:{label:"To Date",filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])]),a("div",{staticClass:"row full-width"},[a("div",{staticClass:"fit row wrap justify-around"},[a("q-btn",{attrs:{color:"primary",push:"",large:""},on:{click:function(e){return t.getTransactions()}}},[t._v("Search")])],1)])])],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-xs-12"},[a("q-card",{staticStyle:{height:"445px"}},[a("q-card-section",[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSimulatedReturnData,expression:"showSimulatedReturnData"}]},[a("q-table",{staticStyle:{"max-height":"415px","overflow-y":"auto"},attrs:{dense:"","virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],data:t.transactions,columns:t.columns,"row-key":"prno",filter:t.filter,selection:"single",selected:t.selected,loading:t.requestItemLoading},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("q-space"),a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",label:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{attrs:{"auto-width":""}},[a("q-toggle",{attrs:{"checked-icon":"add","unchecked-icon":"remove"},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"prno",attrs:{props:e}},[t._v("\n                        "+t._s(e.row.prno)+"\n                      ")]),a("q-td",{key:"date_requested",attrs:{props:e}},[t._v("\n                        "+t._s(e.row.date_requested)+"\n                      ")]),a("q-td",{key:"requested_by",attrs:{props:e}},[t._v("\n                          "+t._s(e.row.REQUESTED_BY)+"\n                      ")]),a("q-td",{key:"approved_by",attrs:{props:e}},[t._v("\n                          "+t._s(e.row.approved_by)+"\n                      ")]),a("q-td",{key:"dateapproved",attrs:{props:e}},[t._v("\n                        "+t._s(e.row.dateapproved)+"\n                      ")]),a("q-td",{key:"print",attrs:{props:e}},[a("q-btn",{attrs:{icon:"print",small:"",color:"primary",push:""},on:{click:function(a){return t.printRequest(e.row.prno)}}}),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.prDetails.length>0?a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!1,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"Purchase Request","pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"600px","pdf-content-height":"600px"}},[a("section",{staticStyle:{width:"111%",height:"100%"},attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("PDF",{attrs:{prDetails:t.prDetails}})],1)]):t._e()],1)],1)],1)]}}])})],1)])],1),a("q-inner-loading",{attrs:{showing:t.transactionsLoading}},[a("q-spinner-tail",{attrs:{color:"primary",size:"5.5em"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticStyle:{width:"100%","max-width":"1000px"}},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.prLoading?t._e():a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPRData,expression:"showPRData"}]},[a("q-card-section",[a("div",{staticClass:"text-h6 q-mb-xs"},[t.prStatus?a("q-chip",{attrs:{color:"green",size:"sm","text-color":"white",icon:"check"}},[t._v("\n                        P.O.\n                        "),a("q-tooltip",{attrs:{"content-class":"bg-green"}},[t._v("\n                          PR has a Purchase Order already.\n                        ")])],1):t._e(),t.prStatus?t._e():a("q-chip",{attrs:{color:"orange",size:"md","text-color":"white",icon:"cached"}},[t._v("\n                        P.O.\n                        "),a("q-tooltip",{attrs:{"content-class":"bg-orange"}},[t._v("\n                          PR is processing.\n                        ")])],1),t._v("\n                      PR No. "+t._s(this.prNumber)+"\n                      "),a("q-btn-group",{attrs:{push:""}},[t.prStatus?t._e():a("q-btn",{attrs:{push:"",size:"sm",round:"",color:"primary",icon:"edit"},on:{click:function(e){return t.editPR(t.prNumber)}}},[a("q-tooltip",{attrs:{"content-class":"bg-blue"}},[t._v("\n                            Edit PR\n                          ")])],1),t.prStatus?t._e():a("q-btn",{attrs:{push:"",size:"sm",round:"",color:"negative",icon:"delete_forever"}},[a("q-tooltip",{attrs:{"content-class":"bg-red"}},[t._v("\n                            Cancel PR\n                          ")])],1)],1)],1),a("q-table",{staticStyle:{"max-height":"450px","overflow-y":"auto"},attrs:{dense:t.$q.screen.lt.md,data:t.prDetails,columns:t.prColumns,"row-key":"id",filter:t.prDetailfilter},scopedSlots:t._u([{key:"top",fn:function(){return[a("q-space"),a("q-input",{attrs:{dense:"",debounce:"300",color:"primary",label:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:t.prDetailfilter,callback:function(e){t.prDetailfilter=e},expression:"prDetailfilter"}})]},proxy:!0}],null,!1,4102674877),model:{value:t.prNumber,callback:function(e){t.prNumber=e},expression:"prNumber"}})],1),a("q-card-actions",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{push:"",label:"Close"},on:{click:function(e){return t.onClose()}}})],1)],1)])],1)],1)],1),t.prLoading?a("q-inner-loading",{attrs:{showing:t.prLoading}},[a("q-spinner-tail",{attrs:{color:"primary",size:"5.5em"}})],1):t._e()],1)])])])},i=[],o=(a("e6cf"),a("ded3")),l=a.n(o),c=a("2f62"),d=a("5c35"),p=a("6480"),u={components:{PDF:d["a"],VueHtml2pdf:p["a"]},data(){return{pagination:{rowsPerPage:0},fromDate:"",toDate:"",visible:!1,showPRData:!1,showSimulatedReturnData:!1,requestItemLoading:!1,itemLoading:!1,selected:[],filter:"",prDetailfilter:"",prNumber:"",dialog:!1,itemQty:[],toDepartment:null,toDepartmentFinal:null,deptConsumption:!1,options:this.departments,signatory:null,signatoryFinal:null,signatoryPos:null,signatoriesOptions:this.signatories,remarks:"",approvingUser:"",approvingUserPosition:"",columns:[{name:"prno",label:"P.R. No.",align:"left",field:"prno",sortable:!0},{name:"date_requested",align:"center",label:"Date Requested",field:"date_requested",sortable:!0,format:t=>""+t,required:!0},{name:"requested_by",align:"center",label:"Requested By",field:"REQUESTED_BY",sortable:!0},{name:"approved_by",align:"center",label:"Approved By",field:"approved_by",sortable:!0},{name:"dateapproved",align:"center",label:"Date Approved",field:"dateapproved",sortable:!0},{name:"print",align:"center",label:"Actions",field:"print",sortable:!1}],prColumns:[{name:"itemCode",required:!0,label:"Item Code",align:"left",field:"itemCode",format:t=>""+t,sortable:!0},{name:"brandName",align:"center",label:"Name",field:"brandName",sortable:!0},{name:"description",align:"center",label:"Description",field:"description",sortable:!0},{name:"qty",align:"center",label:"Quantity",field:"qty",sortable:!0},{name:"invAccount",align:"center",label:"GL Account",field:"invAccount",sortable:!0}]}},computed:l()({},Object(c["b"])(["transactions","transactionsLoading","prDetails","prLoading","prStatus","departments","signatories","userDetails"])),watch:{async selected(t){if(t.length>0){this.showPRData=!1;const e=t[0].prno;this.prNumber=e,await this.$store.dispatch("getPRDetails",e),await this.$store.dispatch("checkPRStatus",e),this.showPRData=!0,this.dialog=!0}}},created(){this.setDates(),this.getTransactions()},methods:{async editPR(t){this.$router.push("/edit-purchase-request/"+t)},onClose(){this.forEditing=!1},async getTransactions(){const t={fromDate:this.fromDate,toDate:this.toDate};this.visible=!0,this.showSimulatedReturnData=!1,await this.$store.dispatch("getTransactions",t),this.visible=!1,this.showSimulatedReturnData=!0},setDates(){const t=(new Date).toISOString().substr(0,10),e=new Date(t).getMonth(),a=new Date(t).getFullYear(),s=new Date(a,e,1),r=new Date(s),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(r),i=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(r),o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(r),l=`${n}-${i}-${o}`,c=new Date(a,e+1,0),d=new Intl.DateTimeFormat("en",{year:"numeric"}).format(c),p=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(c),u=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(c),m=`${d}-${p}-${u}`;this.fromDate=l,this.toDate=m},async printRequest(t){this.showPRData=!1,await this.$store.dispatch("getPRDetails",t),await this.$refs.html2Pdf.generatePdf(),this.showPRData=!0}}},m=u,h=(a("03dd"),a("2877")),f=a("f09f"),v=a("a370"),_=a("27f9"),b=a("0016"),g=a("7cbe"),w=a("52ee"),D=a("9c40"),y=a("eaac"),q=a("2c91"),x=a("bd08"),C=a("db86"),S=a("9564"),P=a("74f7"),R=a("007d"),k=a("24e8"),E=a("b047"),T=a("05c0"),Q=a("e7a9"),I=a("4b7e"),N=a("7f67"),$=a("eebe"),A=a.n($),O=Object(h["a"])(m,n,i,!1,null,null,null),B=O.exports;A()(O,"components",{QCard:f["a"],QCardSection:v["a"],QInput:_["a"],QIcon:b["a"],QPopupProxy:g["a"],QDate:w["a"],QBtn:D["a"],QTable:y["a"],QSpace:q["a"],QTr:x["a"],QTd:C["a"],QToggle:S["a"],QInnerLoading:P["a"],QSpinnerTail:R["a"],QDialog:k["a"],QChip:E["a"],QTooltip:T["a"],QBtnGroup:Q["a"],QCardActions:I["a"]}),A()(O,"directives",{ClosePopup:N["a"]});var F={components:{TableDepartmentRequests:B},name:"PurchaseRequestApproval"},L=F,U=Object(h["a"])(L,s,r,!1,null,null,null);e["default"]=U.exports},"60ab":function(t,e,a){},b990:function(t,e,a){"use strict";var s=a("5334"),r=a.n(s);r.a}}]);